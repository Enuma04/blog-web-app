<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/main.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Danfo:ELSH@61.2&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

</head>
<body style="background-color: #fbe7d4;">
    <div class="header">
    <%- include("partials/header.ejs"); %>
    </div>
    <h1 style="font-size: 80px;">Welcome to <span style="color: #1eafc5;">Post-Its </span>  <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" class="bi bi-mailbox2" viewBox="0 0 16 16">
        <path d="M9 8.5h2.793l.853.854A.5.5 0 0 0 13 9.5h1a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H9z"/>
        <path d="M12 3H4a4 4 0 0 0-4 4v6a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V7a4 4 0 0 0-4-4M8 7a4 4 0 0 0-1.354-3H12a3 3 0 0 1 3 3v6H8zm-3.415.157C4.42 7.087 4.218 7 4 7s-.42.086-.585.157C3.164 7.264 3 7.334 3 7a1 1 0 0 1 2 0c0 .334-.164.264-.415.157"/>
      </svg></h1> 
    <div class="blog-container" >

      <div class="text-container" >
        
        <div class="post-box">
      <form action="/submit" method="POST">
        <input  class="title"  name="titleName" placeholder="Title" maxlength="50" required></textarea><br/>
        <textarea rows="4" class="post"  name="lName" placeholder="New Post" maxlength="200" required></textarea>
      </div>
        <button class="button-53" type="submit" >Post</button><br/>
        <span id="charCount">Characters: 200</span>
      </form>
    </div>

    <h2 style="text-align: center;">Your Posts</h2>
    <div class="post-container">
      <% if(locals.posts){%>
        
      <ul>
        
          <% for(var i = posts.length-1; i >-1; i --) { %>
            <div class="list-box">
              <li class="lists"><span style="font-weight: bold;"><%= posts[i].name %></span> <br/><%= posts[i].content %> (Posted on: <%= posts[i].created_at.split('T')[0] %>)</li>
              <form action="/delete" method="POST" style="display:inline;">
                <input type="hidden" name="created_at" value="<%= posts[i].created_at %>">
                <div class="delete">
                <button class="button-49" type="submit">Delete</button>
            </div>
            </form>
            </div>
          <% } %>
        
      </ul>
      <%} else {%>
        <h1>Welcome to Post-Its</h1>
      <%}%>
    </div>
     
    </div>

    <%- include("partials/footer.ejs"); %>
    
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
      <script src="script.js" charset="UTF-8"></script>
</body>
</html>

